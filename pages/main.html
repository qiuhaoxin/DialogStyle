<!DOCTYPE html>
<html>
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no">
      <title>chatbox</title>
      <link rel="stylesheet" href="../css/style.css"/>
      <link rel="stylesheet" href="../dist/styles/index.min.css" />
   </head>
   <body>
      <div class="pages">
        <div id="socket_tip">正在链接到服务器...</div>
      	<div class="messages" id="msg">
          <ul id="list">

          </ul>
          <div style="height:2.5rem;width:100%;"></div>
      	</div>
      	<div class="footer change-v" id="footer">
<!--             <span id="change" class="change"><i class='icon icon-voice-text'></i></span>
            <div class='inputletter'>
              <input  placeholder="请输入" />
            </div>

            <div class="voice" id="voice">点击说话 自动转文字</div> -->
            <div class="inputletter">
                <i class="icon icon-microphone" id="changeVoice"></i>
                <input  placeholder="请输入" />
            </div>
            <div class="voice">
                <img src="../images/robot_keyboard.png" class="keyboard" id="change"/>
                <figure class="ball">
                  <div id="voice"><img src="../images/robot_mic.png"/></div>
                </figure>
                <img src="../images/robot_allkey.png" class="allkey"/>
            </div>

      	</div>

        <!-- 虚拟的容器 当进入页面是空白时，用户input获取焦点顶上，判断document.body.scrollTop 与 list的clientHeight 的高度-->
        <div class="virtual" id="virtual-box">
           <ul id="virtualList">

           </ul>
        </div>
      </div>
    <script th:inline="JavaScript">  
    /*<![CDATA[*/  
        var context = [[${context}]];
        var chatSessionId = [[${chatSessionId}]];
        var uname = [[${uname}]];
        var message=[[${message}]];
        var avatar=[[${avatar}]];
    /*]]>*/  
    </script> 
     <script src="../js/rem.js"></script>
      <script src="../js/socket.js"></script>
      <script src="../js/jquery-3.3.1.min.js"></script>
      <script src="../js/chatlist.js"></script> 
      <script src="../js/qingjs.js"></script>
      <script type="text/javascript">
          document.addEventListener('touchmove',function(e){
              e.preventDefault();
          },false)
          var chatList=new ChatList();
          //设置页面title:小K机器人
          XuntongJSBridge.call('setWebViewTitle',{'title':'小K机器人'});//设置页面标题并显示

          XuntongJSBridge.call('defback', {}, function () {
                if (history.length <= 1) { //顶级页面，则关闭当前Web
                        XuntongJSBridge.call('closeWebView');
                
                    } else {
                        //localStorage.setItem('htmlContent','');
                        history.back();
                    }
               
            })
      </script>
<!--       <script src="../js/qingjs.js"></script> -->
   </body>
</html>